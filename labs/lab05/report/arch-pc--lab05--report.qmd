---
## Author
author:
  name: Гущина Екатерина Антоновна
  degrees: студент
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёта по лабораторной работе № 5"
subtitle: "Основы работы с Midnight Commander (mc). Структура программы на языке ассемблера NASM. Системные вызовы в ОС GNU Linux"
license: "CC BY"
---

# Цель работы

Приобретение практических навыков работы в Midnight Commander. Освоение инструкций языка ассемблера mov и int.

# Выполнение лабораторной работы

Откроем Midnight Commander командой mc и перейдем в каталог ~/work/arch-pc, созданный при выполнении лабораторной работы №4:

![Каталог ~/work/arch-pc](image/1.png)

С помощью функциональной клавиши F7 создадим папку lab05:

![Создание каталога lab05](image/2.png)

Перейдем в созданный каталог и встроке ввода командой touch создадим файл lab5-1.asm:

![Создание файла lab5-1.asm](image/3.png)

С помощью функциональной клавиши F4 откроем файл lab5-1.asm для редактирования во встроенном редакторе, введем
текст программы, сохраним изменения (F2) и выйдем из редактора (F10):

![Редактирование файла lab5-1.asm](image/4.png)

С помощью клавиши F3 откроем файл lab5-1.asm для просмотра и убедимся, что файл содержит текст программы.

Оттранслируем текст программы lab5-1.asm в объектный файл. Выполним компоновку объектного файла и запустим получившийся исполняемый файл. Программа выводит строку 'Введите строку:' и ожидает ввода с клавиатуры. На запрос введем ФИО:

![Сборка и запуск программы lab5-1](image/5.png)

Скачаем файл in_out.asm со страницы курса в ТУИС. Скопируем файл in_out.asm в каталог с файлом lab5-1.asm с помощью функциональной клавиши F5:

![Добавляем файл in_out.asm](image/6.png)

С помощью функциональной клавиши F6 создадим копию файла lab5-1.asm с именем lab5-2.asm.
Выделим файл lab5-1.asm, нажмем клавишу F6, введем имя файла lab5-2.asm и нажмем клавишу Enter:

![Добавляем файл lab5-2.asm](image/7.png)

Исправим текст программы в файле lab5-2.asm с использованием подпрограмм из внешнего файла in_out.asm (используем подпрограммы sprintLF, sread и quit) в соответствии с листингом из задания:

![Редактирование файла lab5-2.asm](image/8.png)

Создадим исполняемый файл и провим его работу:

![Сборка и запуск программы lab5-2](image/9.png)

Программа с использованием подпрограмм работает так же.

В файле lab5-2.asm заменим подпрограмму sprintLF на sprint.

![Замена подпрограммы sprintLF на sprint](image/10.png)

Создадим исполняемый файл и проверим его работу:

![Сборка и запуск измененной программы lab5-2](image/11.png)

Разница ы том, что после строки приглашения больше нет перевода строки, ввод продолжается на той же строке.

# Задание для самостоятельной работы

1. Создадим копию файла lab5-1.asm - файл lab5-3.asm. Внесите изменения в программу (без использования внешнего файла in_out.asm), так чтобы она работала по следующему алгоритму:
   - вывести приглашение типа “Введите строку:”;
   - ввести строку с клавиатуры;
   - вывести введённую строку на экран.

![Редактирование файла lab5-3.asm](image/12.png)

Программа выводит введенную строку.

2. Получим исполняемый файл и проверим его работу. На приглашение ввести строку введем свою фамилию.

![Сборка и запуск программы lab5-3](image/13.png)

3. Создадим копию файла lab5-2.asm - файл lab5-4.asm. Исправим текст программы с использование подпрограмм из внешнего файла in_out.asm, так чтобы она работала по следующему алгоритму:
   - вывести приглашение типа “Введите строку:”;
   - ввести строку с клавиатуры;
   - вывести введённую строку на экран.

![Редактирование файла lab5-4.asm](image/14.png)

4. Создадим исполняемый файл и проверим его работу:

![Сборка и запуск программы lab5-4](image/15.png)

Программа выводит введенную строку.

# Выводы

Приобрели практические навыки работы в Midnight Commander. Освоили инструкции языка ассемблера mov и int.
